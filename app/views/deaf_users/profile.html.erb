<div class="container">
  <div class="row">
    <div class="dashboard-container padded-div-top-less">
      <div class="col-xs-12 col-sm-3">
        <div class="profile-border">
          <%= image_tag @deaf_user.photo, class: "dashboard-profile-pic " %>
          <p class= "underline"><%= link_to "Edit Profile", edit_deaf_user_path(@deaf_user)%></p>
        </div>
      </div>

      <div class="col-xs-12 col-sm-3">
        <div class="profile-border">
          <h2><%= (@deaf_user.name).upcase %></h2>
          <div class= "dashboard-icon"></div>
          <h3>Languages</h3>
          <% @deaf_user.languages.each do |language|%>
          <p><%= language.name %></p>
          <% end %>
          <p class="underline"><%= link_to "Add a Language", new_deaf_user_language_skill_path(@deaf_user)%></p>
          <p class="text-center">_______________________________</p>
          <h3>Location</h3>
          <p><%= @deaf_user.location %></p>
          <p class= "underline"><%= link_to "Edit City", edit_deaf_user_path(@deaf_user)%></p>
        </div>
      </div>

      <div class= "col-xs-12 col-sm-3">
        <div class= "dashboard-upcoming-bookings profile-border">
          <h2>UPCOMING BOOKINGS</h2>
          <% @upcoming_bookings.each do |booking| %>
          <h3>Your booking with <%= booking.interpreter.name %>:</h3>
          <p class="text-left">Date <%=  booking.booking_date.strftime("%d/%m/%Y") %>  </p>
          <p class="text-left">From <%=  booking.booking_date.strftime("%H:%M") %>  to  <%=  (booking.booking_date + booking.duration).strftime("%H:%M") %> </p>
          <p class="text-left">$<%= (booking.interpreter.price.to_f  *  (booking.duration.to_f / 3600)) %></p>
          <p class="text-center">_________________</p>
          <% end %>
        </div>
      </div>

      <div class= "col-xs-12 col-sm-3">
        <div class= "dashboard-upcoming-bookings">
          <h2>PAST BOOKINGS</h2>
          <% @past_bookings.each do |booking| %>
          <h3>Your booking with <%= booking.interpreter.name %>:</h3>
          <p class="text-left">Date <%=  booking.booking_date.strftime("%d/%m/%Y") %>  </p>
          <p class="text-left">From <%=  booking.booking_date.strftime("%H:%M") %>  to  <%=  (booking.booking_date + booking.duration).strftime("%H:%M") %> </p>
          <p class="text-left">$<%= (booking.interpreter.price.to_f  *  (booking.duration.to_f / 3600)) %></p>
          <p>How was your experience with <%= booking.interpreter.name %>? </p>
          <p class="underline"><%= link_to "Leave a Review!", new_interpreter_booking_review_path(booking.interpreter ,booking)%></p>
          <% end %>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class= "col-xs-8 col-sm-offset-4">
      <div class="dashboard-review">
        <h2>REVIEWS YOU'VE WRITTEN</h2>
        <% @deaf_user.reviews.all.each do |review| %>
        <div class="row">
          <div class= "col-xs-12 col-sm-6">
            <div class="text-left">
            <h2>Your review of <%= link_to review.interpreter.name, interpreter_path(review.interpreter) %></h2>
            </div>
          </div>
          <div class= "col-xs-12 col-sm-6">
            <div class="text-right">
              <h2>(<%= review.booking.booking_date.to_formatted_s(:short) %>)</h2>
            </div>
          </div>
        </div>
        <h3> Overall Performance: <%= (((review.language_ability).to_f + (review.friendliness).to_f + (review.professionalism).to_f  + (review.punctuality).to_f) / 4.0).round(1)%>  </h3>
        <p>Language Skill:      <%= (review.language_ability).to_f%>         </p>
        <p>Friendliness:        <%= (review.friendliness).to_f%>           </p>
        <p>Professionalism:     <%= (review.professionalism).to_f%>        </p>
        <p>Punctuality:         <%= (review.punctuality).to_f%>            </p>
        <h2>Description:        <%= review.content%>                       </h2>
        <p> ______________________________________________________________________________________________</p>
        <% end %>
      </div>
    </div>
  </div>
</div>




